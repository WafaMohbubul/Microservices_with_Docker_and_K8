## Kubernetes (K8)

![](k8_diragram.jpeg)

### Why use K8?
1. simplifies application management
2. improves scalability
3. enhances resource utilization

### What are the benefits of K8? 
1. It automates the deployment and scaling of applications, saving time and effort.
2. It ensures high availability and fault tolerance, keeping applications running smoothly.
3. It provides efficient resource utilization, optimizing the use of computing resources.
4. It enables easy management of containerized applications across different environments.
5. It supports seamless scaling and load balancing, allowing applications to handle increased traffic.

### When would you not use K8?
1. if you have very simple or small-scale applications that don't require complex orchestration
2. If you have limited resources or a small development team

### K8 APIs

## Create K8 Deployment replicas 

### Step 1: Create yaml file

1. Create yaml file called *nginx_deployment.yml*
2. Copy and paste:

```commandline
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
spec:
  selector:
    matchLabels:
        app: nginx
  replicas: 3
  template:
    metadata:
      labels:
        app: nginx
      # define container spec
    spec:
      containers:
        - name: nginx
          image: wafamohbubul/nginx-254:latest
          ports:
            - containerPort: 80
```

### Step 2: Create and Run pods
3. `kubectl create -f nginx_deployment.yml`
4. `kubectl get pods`

### Step 3: To delete pods

`kubectl delete pod <filename>`

NOTE: The webpage *localhost* will not work

### Step 4: Create yml file to run services

1. Create another yaml file called *nginx_services.yml*
2. Copy and paste:
```commandline
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  selector:
    app: nginx
  ports:
    - protocol: TCP
      port: 80
      nodePort: 30010
  type: NodePort
```
### Step 5: Create and Run the file
`kubectl create -f nginx_services.yml `

### Step 6: Check it's working
In web browser, type **localhost:30010** and nginx should appear 

